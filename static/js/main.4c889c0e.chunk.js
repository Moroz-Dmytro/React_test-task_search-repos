(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{12:function(e,t,r){},14:function(e,t,r){},16:function(e,t,r){},19:function(e,t,r){},20:function(e,t,r){"use strict";r.r(t);var c=r(1),a=r.n(c),s=r(6),n=r.n(s),i=(r(12),r(3)),u=(r(13),r(14),r(7)),l=r.n(u),j=r(22),o=(r(16),r(0)),h=function(){var e=localStorage.getItem("repos-search-key"),t=e?JSON.parse(e):[];return Object(o.jsxs)("section",{className:"history App__history",children:[Object(o.jsx)("h6",{children:"Search history:"}),t.length?Object(o.jsx)("ul",{className:"history__list",children:t.map((function(e){return Object(o.jsx)("li",{className:"history__link",children:e},Object(j.a)())}))}):Object(o.jsx)("h5",{children:"History is empty"})]})},p=r(2),b=r.n(p),d=r(4),O=function(){var e=Object(d.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.github.com/search/repositories?q=".concat(t,"&per_page=50"));case 2:if((r=e.sent).ok){e.next=5;break}return e.abrupt("return",Promise.reject(new Error("".concat(r.status," - ").concat(r.statusText))));case 5:return e.abrupt("return",r.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(d.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:return r=e.sent,e.abrupt("return",r.items);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=(r(19),function(e){var t=Object(c.useState)(!1),r=Object(i.a)(t,2),a=r[0],s=r[1],n=Object(c.useState)(!1),u=Object(i.a)(n,2),l=u[0],j=u[1],h=Object(c.useState)(!1),p=Object(i.a)(h,2),O=p[0],x=p[1],m=Object(c.useState)([]),g=Object(i.a)(m,2),v=g[0],_=g[1],N=e.query;return Object(c.useEffect)((function(){Object(d.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,N){e.next=3;break}return e.abrupt("return");case 3:return s(!0),e.next=6,f(N);case 6:t=e.sent,x(!0),s(!1),j(!1),_(t),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),s(!1),j(!0);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))()}),[N]),Object(o.jsxs)(o.Fragment,{children:[a&&Object(o.jsx)("h2",{children:"Please, wait. Loading..."}),!a&&(l?Object(o.jsx)("h2",{children:"Ups... Something went wrong :("}):Object(o.jsxs)(o.Fragment,{children:[!v.length&&O&&Object(o.jsx)("h2",{children:"There are no repos with such name"}),!!v.length&&Object(o.jsx)("ul",{className:"list",children:v.map((function(e){return Object(o.jsx)("li",{className:"card",children:Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsx)("a",{href:e.html_url,className:"card-title card__title",target:"_blank",rel:"noreferrer",children:e.name}),Object(o.jsxs)("div",{className:"card-text",children:["Language: ",Object(o.jsx)("span",{className:"card__description",children:e.language||"Not defined"})]}),Object(o.jsxs)("div",{className:"card-text",children:["Description: ",Object(o.jsx)("span",{className:"card__description",children:e.description})]})]})},e.id)}))})]}))]})}),m=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),r=t[0],a=t[1],s=Object(c.useState)(""),n=Object(i.a)(s,2),u=n[0],j=n[1];Object(c.useEffect)((function(){if(u){var e=localStorage.getItem("repos-search-key"),t=e?JSON.parse(e):[];t.length>=5&&t.shift(),t.push(u),localStorage.setItem("repos-search-key",JSON.stringify(t))}}),[u]);var p=Object(c.useCallback)(l()((function(e){e&&j(e)}),500),[]);return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)("header",{className:"App__header",children:Object(o.jsx)("h1",{className:"App__title",children:"Github repos search app"})}),Object(o.jsxs)("main",{className:"App__main",children:[Object(o.jsxs)("div",{className:"App__search",children:[Object(o.jsx)("input",{className:"input-field",value:r,onChange:function(e){a(e.target.value),p(e.target.value)}}),Object(o.jsx)(h,{})]}),Object(o.jsx)(x,{query:u})]})]})};n.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(m,{})}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.4c889c0e.chunk.js.map